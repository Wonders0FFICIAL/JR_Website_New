<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>JR ・ Profile Setup</title>
  <link rel="icon" href="../assets/images/Favicon.png" type="image/png" />
  <link href="https://fonts.googleapis.com/css2?family=Comfortaa:wght@400;600;700&family=PT+Sans:wght@400;700&display=swap" rel="stylesheet" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/cropperjs/1.5.13/cropper.min.css" />
  <link rel="stylesheet" href="../styles/background.css" />
  <link rel="stylesheet" href="../styles/profile-setup.css" />
</head>
<body>
<div class="stars" id="stars"></div>

<div id="loading-indicator" class="loading-indicator" style="display: none;">
  <div class="loading-spinner"></div>
  <p>Processing image...</p>
</div>

<div class="main-content">
  <nav class="navbar">
    <div class="nav-left">
      <a href="home.html"><img src="../assets/images/JR. Logo.png" alt="JR. Logo" class="logo" /></a>
      <div class="nav-links">
        <a href="home.html">Home</a>
        <a href="blog.html">Blog</a>
        <a href="pricing.html">Pricing</a>
        <a href="projects.html">Projects</a>
        <a href="community.html">Community</a>
      </div>
    </div>
    <div class="signup-hamburger">
      <a href="signup.html" style="text-decoration: none"><button class="signup-btn">Sign Up</button></a>
      <div class="hamburger"><div></div><div></div><div></div></div>
    </div>
  </nav>

  <div class="signup-container">
    <div class="card">
      <h2>Profile</h2>

      <div class="profile-picture-container">
        <label>Profile Picture</label>
        <div class="profile-image-wrapper">
          <div class="profile-image" id="profile-image" role="button" tabindex="0" aria-label="Profile picture - click to upload or edit">
            <i class="fa fa-user" aria-hidden="true"></i>
          </div>
          <button id="upload-picture-btn" class="upload-btn" type="button">Upload picture</button>
          <input type="file" id="profile-image-input" accept="image/jpeg,image/jpg,image/png,image/webp" style="display: none" aria-label="Select profile image file" />
        </div>
        <div class="file-info"><small>Supported formats: JPEG, PNG, WebP (Max 10MB)</small></div>
      </div>

      <div class="input-group">
        <label for="username">Username</label>
        <div class="input-container">
          <div class="input-icon">
            <img src="../assets/images/username.png" alt="Username icon" class="input-icon-img" />
          </div>
          <input type="text" id="username" placeholder="Enter your username" aria-describedby="username-error" autocomplete="username" />
        </div>
        <div id="username-error" class="error-message" role="alert" aria-live="polite"></div>
      </div>

      <div class="input-group">
        <label for="display-name">Display Name</label>
        <div class="input-container">
          <div class="input-icon">
            <img src="../assets/images/display_name.png" alt="Display name icon" class="input-icon-img" />
          </div>
          <input type="text" id="display-name" placeholder="Enter a display name" aria-describedby="display-name-error" autocomplete="name" />
        </div>
        <div id="display-name-error" class="error-message" role="alert" aria-live="polite"></div>
      </div>

      <button id="save-profile-button" class="btn" type="button">Save Profile</button>
    </div>
  </div>
</div>

<div id="image-cropper-modal" class="modal" role="dialog" aria-labelledby="modal-title" aria-describedby="modal-desc" aria-modal="true">
  <div class="modal-content">
    <div class="modal-header">
      <h3 id="modal-title">Adjust Profile Picture</h3>
      <button class="close-modal" type="button" aria-label="Close modal">&times;</button>
    </div>
    <div id="modal-desc" style="display:none;">Use zoom and drag to adjust your profile picture. Your changes will be applied when you click Done.</div>
    <div class="modal-body">
      <div class="cropper-container">
        <div id="image-cropper" aria-label="Image cropping area"></div>
      </div>
      <div class="cropper-controls">
        <div class="zoom-controls">
          <button id="zoom-out-btn" class="icon-btn" type="button" aria-label="Zoom out"><i class="fa fa-minus" aria-hidden="true"></i></button>
          <input type="range" id="zoom-slider" min="1" max="3" step="0.1" value="1" aria-label="Zoom level" />
          <button id="zoom-in-btn" class="icon-btn" type="button" aria-label="Zoom in"><i class="fa fa-plus" aria-hidden="true"></i></button>
        </div>
        <div class="zoom-value"><small>Zoom: <span id="zoom-display">100%</span></small></div>
      </div>
    </div>
    <div class="modal-footer">
      <button id="cancel-crop-btn" class="secondary-btn" type="button">Cancel</button>
      <button id="done-crop-btn" class="btn" type="button">Done</button>
    </div>
  </div>
</div>

<div id="error-modal" class="modal" role="dialog" aria-labelledby="error-title" aria-modal="true">
  <div class="modal-content error-modal-content">
    <div class="modal-header">
      <h3 id="error-title">Error</h3>
      <button class="close-error-modal" type="button" aria-label="Close error modal">&times;</button>
    </div>
    <div class="modal-body">
      <p id="error-message"></p>
    </div>
    <div class="modal-footer">
      <button id="close-error-btn" class="btn" type="button">OK</button>
    </div>
  </div>
</div>

<footer>
  <div class="footer-content">
    <div class="footer-section">
      <h3>Quick Links</h3>
      <div class="footer-links">
        <a href="#">About Us</a>
        <a href="blog.html">Blog</a>
        <a href="#">Careers</a>
        <a href="#">Support</a>
        <a href="#">Contact</a>
        <a href="https://ko-fi.com/jr_official" target="_blank" rel="noopener noreferrer">Donate</a>
      </div>
    </div>
    <div class="footer-section">
      <h3>Legal</h3>
      <div class="footer-links">
        <a href="#">Terms of Service</a>
        <a href="#">Privacy Policy</a>
        <a href="#">Cookie Policy</a>
        <a href="#">License Information</a>
      </div>
    </div>
    <div class="footer-section">
      <h3>Community</h3>
      <div class="footer-links">
        <a href="https://github.com/jr-official" target="_blank" rel="noopener noreferrer">GitHub</a>
        <a href="https://discord.gg/d4kfXDrcG8" target="_blank" rel="noopener noreferrer">Discord</a>
        <a href="https://x.com/jr_suite" target="_blank" rel="noopener noreferrer">X</a>
        <a href="https://youtube.com/@junior.software" target="_blank" rel="noopener noreferrer">YouTube</a>
      </div>
    </div>
  </div>
  <div class="footer-separator"></div>
  <div class="copyright">© 2025 JR. All rights reserved.</div>
</footer>

<script src="https://cdnjs.cloudflare.com/ajax/libs/cropperjs/1.5.13/cropper.min.js"></script>
<script src="../js/background.js"></script>
<script src="../js/profile-setup.js"></script>
</body>
</html>